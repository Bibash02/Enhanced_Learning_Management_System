<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Student Submission Detail</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body { 
            font-family: "Times New Roman", serif;
            background: #eef3ff; }
        .card { border-radius: 15px; }
        .answer-box { background: #fff; padding: 15px; border-radius: 10px; }
        textarea { resize: none; }
        .btn {
            background-color: black;
            color: white;
        }
        .btn:hover {
            background-color: #4a4950;
            color: white;
        }
    </style>
</head>

<body>
<div class="container mt-5">
    
    <h2 class="mb-4 text-bold">Student Submission Details</h2>

    <div class="card shadow p-4">

        <h4>Student: {{ submission.student.username }}</h4>
        <h5>Assignment: {{ submission.assignment.title }}</h5>
        <p><strong>Status:</strong> {{ submission.status }}</p>

        <hr>

        <h4 class="text-bold">Submitted Answers:</h4>

        {% for ans in answers %}
            <div class="answer-box mb-3 shadow-sm">
                <h5 class="fw-bold">Question {{ forloop.counter }}:</h5>
                <p>{{ ans.question.text }}</p>

                <h6 class="fw-bold">Submitted Answer:</h6>
                <p>{{ ans.answer_text }}</p>
            </div>
        {% empty %}
            <p>No answers submitted.</p>
        {% endfor %}

        <hr>

        <form method="POST">
            {% csrf_token %}

            <div class="mb-3">
                <label class="form-label fw-bold">Marks</label>
                <input type="number" name="marks" class="form-control" value="{{ submission.grade }}">
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">Instructor Feedback</label>
                <textarea name="feedback" rows="4" class="form-control">{{ submission.feedback }}</textarea>
            </div>

            <button class="btn w-100">Save Marks & Feedback</button><br><br>
            <a href="{% url 'instructor_submitted_answers' %}" class="btn w-100">
                Go Back
            </a>
        </form>

    </div>

</div>
</body>
</html>
